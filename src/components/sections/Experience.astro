---
import Section from "../Section.astro";
import { work } from '@cv';
---

<Section title="Experience">
    <ul>
        {
            work.map(
                ({ name, startDate, endDate, position, summary, highlights }) => {
                    const startYear = new Date(startDate).getFullYear();
                    const endYear = endDate !== null ? new Date(endDate).getFullYear(): "Actual";
                    const years = `${startYear} - ${endYear}`;
                    
                    return (
                        <li>
                            <article>
                                <header>
                                    <div>
                                        <h3> { name } </h3>
                                        <h4> { position } </h4>
                                    </div>
                                    <time>{ years }</time>
                                </header>
                                <footer>
                                    <p> { summary } </p>
                                </footer>
                            </article>
                        </li>
                    )
                })
        }
    </ul>
</Section>


<style>
    ul {
        display: grid;
        grid-template-columns: repeat(
            auto-fit,
            minmax(
                200px,
                1fr
            )
        );
        gap: 15px;
        list-style: none;
        place-content: center;
    }

    article { 
        
        & h3 {
            font-weight: 500;
            color: #111;
        }

        & h4 {
            color: #222;
            font-weight: 400;
        }
    }

    header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 4px;
        border-bottom: 2px solid #111;  
    }

    time {
        color: #424242;
        font-size: .85rem;
    }
</style>